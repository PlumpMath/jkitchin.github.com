% Created 2015-03-09 Mon 09:33
\documentclass[aps,prb,citeautoscript,preprint,citeautoscript,showkeys]{revtex4-1}
  \usepackage{graphicx}
\usepackage{subfigure}
\date{\today}
\title{org-element-explorer}
\begin{document}

\section{Multiple RESULTS}
\label{sec-1}

\texttt{Multiple RESULTS}

\begin{verbatim}
88
\end{verbatim}


\begin{minted}[frame=lines,fontsize=\scriptsize,linenos]{python}
print 88
\end{minted}


org-babel-after-execute-hook




\begin{verbatim}
88
\end{verbatim}


\begin{minted}[frame=lines,fontsize=\scriptsize,linenos]{common-lisp}
(defun eap () (interactive) (message "%S" (org-element-at-point)))
\end{minted}

\begin{minted}[frame=lines,fontsize=\scriptsize,linenos]{common-lisp}
(defun update-results () (interactive)
  ;; get name of src block
  (let ((name (org-element-property :name (org-element-at-point)))
        (results))
    (when name
      (org-element-map (org-element-parse-buffer) 'fixed-width
        (lambda (object)
          (if results
              ;; replace value in block
              (setf
               (buffer-substring
                (org-element-property :begin  object)
                (org-element-property :end  object))
               results)
            ;; set results
            (setq results
                  (buffer-substring
                   (org-element-property :begin  object)
                   (org-element-property :end  object)))))))))
\end{minted}


\begin{minted}[frame=lines,fontsize=\scriptsize,linenos]{common-lisp}
(add-hook 'org-babel-after-execute-hook 'update-results)
\end{minted}
\begin{center}
\begin{tabular}{ll}
update-results & (lambda nil (org-refresh-images))\\
\end{tabular}
\end{center}
% Emacs 24.4.1 (Org mode 8.2.10)
\end{document}