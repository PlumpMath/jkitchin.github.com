% Created 2015-11-21 Sat 10:21
\documentclass[11pt]{article}
\usepackage[utf8]{inputenc}
\usepackage{lmodern}
\usepackage[T1]{fontenc}
\usepackage{fixltx2e}
\usepackage{graphicx}
\usepackage{longtable}
\usepackage{float}
\usepackage{wrapfig}
\usepackage{rotating}
\usepackage[normalem]{ulem}
\usepackage{amsmath}
\usepackage{textcomp}
\usepackage{marvosym}
\usepackage{wasysym}
\usepackage{amssymb}
\usepackage{amsmath}
\usepackage[version=3]{mhchem}
\usepackage[numbers,super,sort&compress]{natbib}
\usepackage{natmove}
\usepackage{url}
\usepackage{minted}
\usepackage{underscore}
\usepackage[linktocpage,pdfstartview=FitH,colorlinks,
linkcolor=blue,anchorcolor=blue,
citecolor=blue,filecolor=blue,menucolor=blue,urlcolor=blue]{hyperref}
\usepackage{attachfile}
\usepackage{todonotes}
\usepackage{graphicx}
\usepackage{subfigure}
\date{\today}
\title{org-element-explorer}
\begin{document}

\section{Insert org-entities with helm}
\label{sec-1}
org-mode has a lot of pre-defined entities, otherwise known to me as non-ascii characters. I rarely remember what these are, so here we build a helm command to show them to me, and allow me to select one for insertion.

\begin{minted}[frame=lines,fontsize=\scriptsize,linenos]{common-lisp}
(setq helm-source-org-entities
      `((name . "Org entities")
        (candidates . ,(mapcar
                        (lambda (x)
                          (cons
                           (if (stringp x)
                               x
                             (concat (format "%s" (nth 5 x))
                                     (mapconcat
                                      (lambda (el)
                                        (format "%10s" el))
                                      x
                                      " | ")))
                           x))
                       org-entities))
       (action . (("insert char" . (lambda (candidate)
                                     (insert (nth 5 candidate))))
                  ("insert entity" . (lambda (candidate)
                                       (insert (concat "\\" (car candidate)))))
                  ("insert latex" . (lambda (candidate)
                                      (insert (nth 1 candidate))))
                  ("insert html" . (lambda (candidate)
                                      (insert (nth 3 candidate))))))))

(defun helm-insert-org-entity ()
  (interactive)
  (helm :sources '(helm-source-org-entities)))
\end{minted}

\begin{verbatim}
helm-insert-org-entity
\end{verbatim}

org char: Ã€

org entity: \`{A}

latex: \`{A}

html:
% Emacs 25.0.50.1 (Org mode 8.2.10)
\end{document}