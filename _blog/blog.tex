% Created 2015-11-21 Sat 16:55
\documentclass[11pt]{article}
\usepackage[utf8]{inputenc}
\usepackage{lmodern}
\usepackage[T1]{fontenc}
\usepackage{fixltx2e}
\usepackage{graphicx}
\usepackage{longtable}
\usepackage{float}
\usepackage{wrapfig}
\usepackage{rotating}
\usepackage[normalem]{ulem}
\usepackage{amsmath}
\usepackage{textcomp}
\usepackage{marvosym}
\usepackage{wasysym}
\usepackage{amssymb}
\usepackage{amsmath}
\usepackage[version=3]{mhchem}
\usepackage[numbers,super,sort&compress]{natbib}
\usepackage{natmove}
\usepackage{url}
\usepackage{minted}
\usepackage{underscore}
\usepackage[linktocpage,pdfstartview=FitH,colorlinks,
linkcolor=blue,anchorcolor=blue,
citecolor=blue,filecolor=blue,menucolor=blue,urlcolor=blue]{hyperref}
\usepackage{attachfile}
\usepackage{todonotes}
\usepackage{graphicx}
\usepackage{subfigure}
\date{\today}
\title{org-element-explorer}
\begin{document}

\section{Attempt 2 with :wrap}
\label{sec-1}
this works if you run the block on the backend.

(setq org-export-babel-evaluate nil)
\begin{minted}[frame=lines,fontsize=\scriptsize,linenos]{common-lisp}
(defun ex-aware-wrap ()
  (unless org-export-current-backend
      (concat "src org :exports results "
              ":results  replace drawer"
"\n#+caption: test"
              "\n#+ATTR_LATEX: "
              ":environment longtable")))
\end{minted}

\begin{verbatim}
ex-aware-wrap
\end{verbatim}
% Emacs 25.0.50.1 (Org mode 8.2.10)
\end{document}