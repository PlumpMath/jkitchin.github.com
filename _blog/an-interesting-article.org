#+TITLE: An Interesting Article
#+AUTHOR: Simon Jones
#+DATE: 2015-02-16

#+BEGIN_SRC emacs-lisp
(defun export-subtree ()
 (interactive)
 (let ((fname  (concat (org-entry-get (point) "EXPORT_FILE_NAME") ".org"))
       (author (org-entry-get (point) "EXPORT_AUTHOR"))
       (title (org-entry-get (point) "EXPORT_TITLE"))
       (date (org-entry-get (point) "EXPORT_DATE"))
       (content (progn (set-buffer (org-org-export-as-org nil t t))
                   (buffer-string))))
   ;; warning you can delete something unintentionally
   (when (file-exists-p fname) (delete-file fname))
   (find-file fname)
   (insert "#+TITLE: " title "\n")
   (insert "#+AUTHOR: " author "\n")
   (insert "#+DATE: " date "\n")
   (insert "\n" content)
   ;; remove properties drawer. Kind of hacky.
   (goto-char (point-min))
   (re-search-forward ":PROPERTIES:")
   (setf (buffer-substring
	  (org-element-property :begin (org-element-context))
	  (org-element-property :end (org-element-context)))
           "")
   (save-buffer)))

(export-subtree)
#+END_SRC

#+RESULTS:



#+BEGIN_SRC emacs-lisp
(defun wrap-text-in-org-block (start end)
  (interactive "r")
  (goto-char end)
  (insert "\n#+END_QUOTE\n")
  (goto-char start)
  (insert "\n#+BEGIN_QUOTE:\n"))
#+END_SRC


#+BEGIN_QUOTE:
TEstesat
#+END_QUOTE
