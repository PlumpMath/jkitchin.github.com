* Right aligning stars


#+BEGIN_SRC emacs-lisp :results none
(require 'ov)

(defun org-max-heading-depth ()
  "Get maximum depth of a heading."
  (let ((max-depth 0)
	depth)
    (org-map-entries (lambda ()
		       (when (> (setq depth (car (org-heading-components))) max-depth)
			 (setq max-depth depth))))
    max-depth))


(defun org-right-align-overlay ()
  "Put an overlay on headline * to right align to maximum depth.
Should be run while on the headline."
  (interactive)
  (let* ((diff (- (org-max-heading-depth) (car (org-heading-components))))
	 ov)
    (while (and (setq ov (ov-at (match-beginning 1)))
	       (overlay-get ov 'right-align))
      (delete-overlay ov))

    ;; (setq ov (make-overlay (line-beginning-position) (+ 1 (line-beginning-position))))
    (setq ov (make-overlay (match-beginning 1) (+ 1 (match-beginning 1))))
    (overlay-put ov 'before-string (make-string diff ? ))
    (overlay-put ov 'right-align t)))

(defun org-right-align-clear ()
  (interactive)
  (ov-clear 'right-align))

(defun align-matcher (&optional limit)
  (while (re-search-forward org-heading-regexp limit t)
    (org-right-align-overlay)))

(add-to-list 'org-font-lock-hook 'align-matcher)
#+END_SRC



** subheading

*** subsubheading
**** 4 level
***** 5 level
** another subheading
*** third level
