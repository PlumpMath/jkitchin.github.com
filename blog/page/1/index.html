

<!doctype html>
<!--[if lt IE 7 ]> <html lang="en" class="no-js ie6"> <![endif]-->
<!--[if IE 7 ]>    <html lang="en" class="no-js ie7"> <![endif]-->
<!--[if IE 8 ]>    <html lang="en" class="no-js ie8"> <![endif]-->
<!--[if IE 9 ]>    <html lang="en" class="no-js ie9"> <![endif]-->
<!--[if (gt IE 9)|!(IE)]><!--> <html lang="en" class="no-js"> <!--<![endif]-->
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>The Kitchin Research Group</title>
  <meta name="google-site-verification" content="CGcacJdHc2YoZyI0Vey9XRA5qwhhFDzThKJezbRFcJ4" />
  <meta name="description" content="Chemical Engineering at Carnegie Mellon University">
  <meta name="author" content="John Kitchin">
  <link rel="alternate" type="application/rss+xml" title="RSS 2.0" href="/blog/feed" />
  <link rel="alternate" type="application/atom+xml" title="Atom 1.0" href="/blog/feed/atom" />
  <link rel="shortcut icon" href="/favicon.ico">
  <link rel="apple-touch-icon" href="/img/apple-touch-icon.png">

  <link rel="stylesheet" href="/css/base.css?v=1">
  <link rel="stylesheet" href="/css/grid.css?v=1">
  <link rel="stylesheet" media="handheld" href="/css/handheld.css?v=1">
  <link rel="stylesheet" href="/css/pygments_murphy.css" type="text/css" />

  <script src="/js/libs/modernizr-1.7.min.js"></script>
<script type="text/javascript"
  src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>
  <link rel="stylesheet" href="/themes/theme1/style.css?v=1">
<link href='http://fonts.googleapis.com/css?family=Roboto' rel='stylesheet' type='text/css'>

</head>
  <body>
    <div id="container" class="container container_12">
      <div id="main" role="main">
        <div id="main_block">
          <header>
<div id="header" class="header_gradient theme_font">
<table><tr><td>
    <h1><a href="/">The Kitchin Research Group</a></h1>
    <h2>Chemical Engineering at Carnegie Mellon University</h2>
</td>
<td colspan=100%><div style="float:right;width:100%;text-align:right;"> <span id='badgeCont737515' style='width:126px'><script src='http://labs.researcherid.com/mashlets?el=badgeCont737515&mashlet=badge&showTitle=false&className=a&rid=A-2363-2010'></script></span></div>
</td></tr>
</table>
</div>
  <div id="navigation" class="grid_12">

    <ul class="theme_font">
      <li><a href="/blog"
             class="">Blog</a></li>

      <li><a href="/blog/archive"
             class="">Archives</a></li>

      <li><a href="/publications/index.html">Publications</a></li>
      <li><a href="/group.html">Group</a></li>

      <li><a href="/research.html"
             class="">Research</a></li>

      <li><a href="/categories.html"
             class="">Categories</a></li>

      <li><a href="/about.html"
             class="">About us</a></li>

      <li><a href="/subscribe.html">Subscribe</a></li>

    </ul>
  </div>
</header>

          <div id="prose_block" class="grid_8">
            
  





<article>
  <div class="blog_post">
    <header>
      <div id="kitchingroup-cheme-cmu-edu"></div>
      <h2 class="blog_post_title"><a href="/blog/2017/01/01/kitchingroup-cheme-cmu-edu/" rel="bookmark" title="Permanent Link to kitchingroup.cheme.cmu.edu">kitchingroup.cheme.cmu.edu</a></h2>
      <p><small><span class="blog_post_date">Posted January 01, 2017 at 06:18 PM</span> | categories:
        <span class="blog_post_categories"><a href='/blog/category/uncategorized/'>uncategorized</a></span> | tags: 
        | <a href="http://jkitchin.github.io/blog/2017/01/01/kitchingroup-cheme-cmu-edu#disqus_thread">View Comments</a>
      </small></p>
    </header>
    <div class="post_prose">
      



<p>
Our research blog (this one) continues to grow bit by bit. We only had about 58 blog posts in 2016. For the first time it got slightly more pageviews than matlab.cheme.cmu.edu. That is pretty amazing since I have not added anything to matlab.cheme.cmu.edu since the summer of 2013!
</p>

<p>
Google analytics on kitchingroup.cheme.cmu.edu for 2016.
</p>
<p>
<img src="/media/date-01-01-2017-time-17-29-15.png"> 
</p>



<p>
Google analytics on matlab.cheme.cmu.edu for 2016.
</p>
<p>
<img src="/media/date-01-01-2017-time-17-27-41.png"> 
</p>
<p>Copyright (C) 2017 by John Kitchin. See the <a href="/copying.html">License</a> for information about copying.<p>
<p><a href="/org/2017/01/01/kitchingroup.cheme.cmu.edu.org">org-mode source</a></p>
<p>Org-mode version = 9.0</p>

    </div>
  </div>
</article>



<a href="https://twitter.com/share" class="twitter-share-button" data-via="johnkitchin">Tweet</a> <script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');</script>

  <div class="after_post"><a href="http://jkitchin.github.io/blog/2017/01/01/kitchingroup-cheme-cmu-edu#disqus_thread">Read and Post Comments</a></div>
  <hr class="interblog" />
  





<article>
  <div class="blog_post">
    <header>
      <div id="2016-in-a-a-nutshell-for-the-Kitchin-Research-group"></div>
      <h2 class="blog_post_title"><a href="/blog/2017/01/01/2016-in-a-a-nutshell-for-the-Kitchin-Research-group/" rel="bookmark" title="Permanent Link to 2016 in a a nutshell for the Kitchin Research group">2016 in a a nutshell for the Kitchin Research group</a></h2>
      <p><small><span class="blog_post_date">Posted January 01, 2017 at 06:13 PM</span> | categories:
        <span class="blog_post_categories"><a href='/blog/category/news/'>news</a></span> | tags: 
        | <a href="http://jkitchin.github.io/blog/2017/01/01/2016-in-a-a-nutshell-for-the-Kitchin-Research-group#disqus_thread">View Comments</a>
      </small></p>
    </header>
    <div class="post_prose">
      



<div id="table-of-contents">
<h2>Table of Contents</h2>
<div id="text-table-of-contents">
<ul>
<li><a href="#orge8e7c93">1. Student accomplishments</a></li>
<li><a href="#org093ece6">2. Publications</a></li>
<li><a href="#org5c95fda">3. Emacs and org-mode</a></li>
<li><a href="#orgd21f852">4. vaspy</a></li>
<li><a href="#org13d169e">5. Social media</a>
<ul>
<li><a href="#orgebd67fe">5.1. github</a></li>
<li><a href="#org1b6bacf">5.2. Youtube</a></li>
<li><a href="#org4939f57">5.3. kitchingroup.cheme.cmu.edu</a></li>
</ul>
</li>
</ul>
</div>
</div>
<p>
2016 was another good year for the Kitchin Research Group. Here are a few highlights.
</p>

<div id="outline-container-orge8e7c93" class="outline-2">
<h2 id="orge8e7c93"><span class="section-number-2">1</span> Student accomplishments</h2>
<div class="outline-text-2" id="text-1">
<p>
Elif Erdinc joined the group to work on her PhD in CO<sub>2</sub> capture.
</p>

<p>
Sanjna Bhartiya and Jean Haddad joined the group as undergraduate researchers.
</p>

<p>
Zhongnan Xu and Alex Hallenbeck completed their PhDs and graduated. Zhongnan is doing postdoctoral work with Dane Morgan at the University of Wisconsin.
</p>

<p>
Chen Wang, Akshay Tharval, Teng Ma, Feiyang Geng, Devon Walker, and Tianyu Gao completed their MS degrees and have graduated.
</p>

<p>
Congratulations everyone!
</p>
</div>
</div>

<div id="outline-container-org093ece6" class="outline-2">
<h2 id="org093ece6"><span class="section-number-2">2</span> Publications</h2>
<div class="outline-text-2" id="text-2">
<p>
2016 was a moderate year for publications for us. We currently have five manuscripts under review. Here are the papers published in 2016.
</p>

<p>
Papers on org-mode and publishing:
</p>
<dl class="org-dl">
<dt><a class='org-ref-reference' href="#kitchin-2015-data-surfac-scien">kitchin-2015-data-surfac-scien</a></dt><dd>A perspective on data sharing in surface science</dd>
<dt><a class='org-ref-reference' href="#kitchin-2016-autom-data">kitchin-2016-autom-data</a></dt><dd>concept to automate data embedding in publications</dd>
</dl>

<p>
Machine learning and molecular simulation:
</p>
<dl class="org-dl">
<dt><a class='org-ref-reference' href="#boes-2016-neural-networ">boes-2016-neural-networ</a></dt><dd>Training neural networks with DFT for molecular simulations</dd>
</dl>

<p>
Collaborations:
</p>
<dl class="org-dl">
<dt><a class='org-ref-reference' href="#bligaard-2016-towar-bench">bligaard-2016-towar-bench</a></dt><dd>A perspective on benchmarking in catalysis</dd>
<dt><a class='org-ref-reference' href="#deshpande-2016-quant-uncer">deshpande-2016-quant-uncer</a></dt><dd>Uncertainty in volcano relationships</dd>
<dt><a class='org-ref-reference' href="#calfa-2016-proper-predic">calfa-2016-proper-predic</a></dt><dd>A machine learning approach to materials design</dd>
<dt><a class='org-ref-reference' href="#kitchin-2016-high-throug">kitchin-2016-high-throug</a></dt><dd>A perspective on highthroughput methods in engineering</dd>
</dl>

<p>
Accepted in 2016:
</p>
<dl class="org-dl">
<dt><a class='org-ref-reference' href="#boes-2016-neural-networ-pdo">boes-2016-neural-networ-pdo</a></dt><dd>Neural networks for coverage dependent adsorption properties</dd>
<dt><a class='org-ref-reference' href="#xu-2017-first-princ">xu-2017-first-princ</a></dt><dd>Predictions of epitaxial stabilization of oxide films</dd>
</dl>



<p>
For the first year, it looks like we got fewer citations than the previous year. I am not sure what that means.
</p>

<p>
<img src="/media/date-01-01-2017-time-17-39-44.png"> 
</p>


<p>
<h1 class='org-ref-bib-h1'>Bibliography</h1>
<ul class='org-ref-bib'><li><a id="kitchin-2015-data-surfac-scien">[kitchin-2015-data-surfac-scien] "John Kitchin", Data Sharing in Surface Science, <i>"Surface Science "</i>, <b>647</b>, 103-107 (2016). <a href="http://www.sciencedirect.com/science/article/pii/S0039602815001326">link</a>. <a href="http://dx.doi.org/10.1016/j.susc.2015.05.007">doi</a>.</a></li>
<li><a id="kitchin-2016-autom-data">[kitchin-2016-autom-data] "Kitchin, Van Gulick & Zilinski, Automating Data Sharing Through Authoring Tools, <i>"International Journal on Digital Libraries"</i>, <b></b>, 1-6 (2016). <a href="http://dx.doi.org/10.1007/s00799-016-0173-7">link</a>. <a href="http://dx.doi.org/10.1007/s00799-016-0173-7">doi</a>.</a></li>
<li><a id="boes-2016-neural-networ">[boes-2016-neural-networ] Jacob Boes, Mitchell Groenenboom, John Keith, & John Kitchin, Neural Network and Reaxff Comparison for Au Properties, <i>Int. J. Quantum Chem.</i>, <b>116(13)</b>, 979-987 (2016). <a href="http://dx.doi.org/10.1002/qua.25115">link</a>. <a href="http://dx.doi.org/10.1002/qua.25115">doi</a>.</a></li>
<li><a id="bligaard-2016-towar-bench">[bligaard-2016-towar-bench] Thomas Bligaard, Morris Bullock, Charles Campbell, , Jingguang Chen, Bruce Gates, Raymond Gorte, , Christopher Jones, William Jones, John, Kitchin & Susannah Scott, Toward Benchmarking in Catalysis Science: Best Practices,  Challenges, and Opportunities, <i>ACS Catalysis</i>, <b>6(4)</b>, 2590-2602 (2016). <a href="https://doi.org/10.1021/acscatal.6b00183">link</a>. <a href="http://dx.doi.org/10.1021/acscatal.6b00183">doi</a>.</a></li>
<li><a id="deshpande-2016-quant-uncer">[deshpande-2016-quant-uncer] Siddharth Deshpande, John Kitchin, Venkatasubramanian & Viswanathan, Quantifying Uncertainty in Activity Volcano Relationships for  Oxygen Reduction Reaction, <i>ACS Catalysis</i>, <b>6(8)</b>, 5251-5259 (2016). <a href=" http://dx.doi.org/10.1021/acscatal.6b00509 ">link</a>. <a href="http://dx.doi.org/10.1021/acscatal.6b00509">doi</a>.</a></li>
<li><a id="calfa-2016-proper-predic">[calfa-2016-proper-predic] Bruno Calfa & John Kitchin, Property Prediction of Crystalline Solids From Composition and  Crystal Structure, <i>AIChE Journal</i>, <b>62(8)</b>, 2605-2613 (2016). <a href="http://dx.doi.org/10.1002/aic.15251">link</a>. <a href="http://dx.doi.org/10.1002/aic.15251">doi</a>.</a></li>
<li><a id="kitchin-2016-high-throug">[kitchin-2016-high-throug] Kitchin & Gellman, High-Throughput Methods Using Composition and Structure Spread  Libraries, <i>AIChE Journal</i>, <b>62(11)</b>, 3826-3835 (2016). <a href="http://dx.doi.org/10.1002/aic.15294">link</a>. <a href="http://dx.doi.org/10.1002/aic.15294">doi</a>.</a></li>
<li><a id="boes-2016-neural-networ-pdo">[boes-2016-neural-networ-pdo] Jacob Boes & John Kitchin, Neural Network Predictions of Oxygen Interactions on a Dynamic Pd Surface, <i>Molecular Simulation</i>, <b></b>, (Accepted 12/2016). <a href="http://dx.doi.org/10.1080/08927022.2016.1274984">doi</a>.</a></li>
<li><a id="xu-2017-first-princ">[xu-2017-first-princ] Xu, Salvador & Kitchin, First-Principles Investigation of the Epitaxial Stabilization  of Oxide Polymorphs: \ceTiO2 on \ce(Sr,Ba)TiO3, <i>ACS Applied Materials & Interfaces</i>, <b>0(ja)</b>, null (2017). <a href="https://doi.org/10.1021/acsami.6b11791">link</a>. <a href="http://dx.doi.org/10.1021/acsami.6b11791">doi</a>.</a></li>
</ul>
</p>
</div>
</div>

<div id="outline-container-org5c95fda" class="outline-2">
<h2 id="org5c95fda"><span class="section-number-2">3</span> Emacs and org-mode</h2>
<div class="outline-text-2" id="text-3">
<p>
We have continued to develop Emacs and org-mode into a fantastic scientific writing tool. scimax (<a href="https://github.com/jkitchin/scimax">https://github.com/jkitchin/scimax</a>) replaced jmax as our emacs starterkit.
</p>

<p>
org-ref (<a href="https://github.com/jkitchin/org-ref">https://github.com/jkitchin/org-ref</a>) has been downloaded more than 10,000 times now from MELPA! I helped rewrite the link code for org-mode version 9 to make it easier to do some things we invented in org-ref (custom colored links, link keymaps, etc&#x2026;). org-mode 9 is out now, and our standard. org-ref continues to get better.
</p>

<p>
We released ox-clip (<a href="https://melpa.org/#/ox-clip">https://melpa.org/#/ox-clip</a>) which lets you copy formatted org-mode into applications like MS Word.
</p>

<p>
This year I hope to focus on integrating org-mode files with a backend database to make searching more powerful and to make it easier to create novel agendas. Another goal is figuring how to get human-readable, semantically marked up data in scientific documents. Finally, I hope to make some progress in developing interactive tutorials to help people learn how to use scimax.
</p>
</div>
</div>

<div id="outline-container-orgd21f852" class="outline-2">
<h2 id="orgd21f852"><span class="section-number-2">4</span> vaspy</h2>
<div class="outline-text-2" id="text-4">
<p>
We rewrote the Python library for Vasp in ASE (<a href="https://github.com/jkitchin/vasp">https://github.com/jkitchin/vasp</a>) and updated dft-book to use it. This new version is ase-compliant, and allows a more functional style of scripting with integration to the queue system.
</p>
</div>
</div>

<div id="outline-container-org13d169e" class="outline-2">
<h2 id="org13d169e"><span class="section-number-2">5</span> Social media</h2>
<div class="outline-text-2" id="text-5">
</div><div id="outline-container-orgebd67fe" class="outline-3">
<h3 id="orgebd67fe"><span class="section-number-3">5.1</span> github</h3>
<div class="outline-text-3" id="text-5-1">
<p>
It was a busy year for me on <a href="https://github.com/jkitchin">https://github.com/jkitchin</a>. We use github for everything from software development to scientific paper writing.
</p>

<p>
<img src="/media/date-01-01-2017-time-17-58-31.png"> 
</p>
</div>
</div>

<div id="outline-container-org1b6bacf" class="outline-3">
<h3 id="org1b6bacf"><span class="section-number-3">5.2</span> Youtube</h3>
<div class="outline-text-3" id="text-5-2">
<p>
Wow, over 100,000 minutes of <a href="https://www.youtube.com/analytics?o=U#dt=ty,fe=17165,fr=lw-001,fs=16801;fc=0,fcr=0,r=views,rpg=93">watch time</a> on our videos in 2016! Check out our channel: <a href="https://www.youtube.com/channel/UCQp2VLAOlvq142YN3JO3y8w">https://www.youtube.com/channel/UCQp2VLAOlvq142YN3JO3y8w</a> if you have not already.
</p>

<p>
<img src="/media/date-01-01-2017-time-17-23-24.png"> 
</p>


<p>
Here are the most popular videos of 2016:
<img src="/media/date-01-01-2017-time-17-24-01.png"> 
</p>
</div>
</div>

<div id="outline-container-org4939f57" class="outline-3">
<h3 id="org4939f57"><span class="section-number-3">5.3</span> kitchingroup.cheme.cmu.edu</h3>
<div class="outline-text-3" id="text-5-3">
<p>
Our research blog (this one) continues to grow bit by bit. We only had about 58 blog posts in 2016. For the first time it got slightly more pageviews than matlab.cheme.cmu.edu. That is pretty amazing since I have not added anything to matlab.cheme.cmu.edu since the summer of 2013!
</p>

<p>
<img src="/media/date-01-01-2017-time-17-29-15.png"> 
</p>




<p>
<img src="/media/date-01-01-2017-time-17-27-41.png"> 
</p>
</div>
</div>
</div>
<p>Copyright (C) 2017 by John Kitchin. See the <a href="/copying.html">License</a> for information about copying.<p>
<p><a href="/org/2017/01/01/2016-in-a-a-nutshell-for-the-Kitchin-Research-group.org">org-mode source</a></p>
<p>Org-mode version = 9.0</p>

    </div>
  </div>
</article>



<a href="https://twitter.com/share" class="twitter-share-button" data-via="johnkitchin">Tweet</a> <script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');</script>

  <div class="after_post"><a href="http://jkitchin.github.io/blog/2017/01/01/2016-in-a-a-nutshell-for-the-Kitchin-Research-group#disqus_thread">Read and Post Comments</a></div>
  <hr class="interblog" />
  





<article>
  <div class="blog_post">
    <header>
      <div id="Context-specific-org-mode-speed-keys"></div>
      <h2 class="blog_post_title"><a href="/blog/2016/12/22/Context-specific-org-mode-speed-keys/" rel="bookmark" title="Permanent Link to Context-specific org-mode speed keys">Context-specific org-mode speed keys</a></h2>
      <p><small><span class="blog_post_date">Posted December 22, 2016 at 01:18 PM</span> | categories:
        <span class="blog_post_categories"><a href='/blog/category/emacs/'>emacs</a>, <a href='/blog/category/orgmode/'>orgmode</a></span> | tags: 
        | <a href="http://jkitchin.github.io/blog/2016/12/22/Context-specific-org-mode-speed-keys#disqus_thread">View Comments</a>
      </small></p>
    </header>
    <div class="post_prose">
      



<p>
I have been using org-mode to make a contact database. A contact is basically just a headline with an EMAIL property, e.g. <a href="https://julien.danjou.info/projects/emacs-packages#org-contacts">https://julien.danjou.info/projects/emacs-packages#org-contacts</a>.  I thought it would be nice to have an org-mode speed key so that if I was at the beginning of a contact headline, I could just press "e" to open an email buffer to that contact. This might generally be useful to have different speed keys that serve different purposes or are only defined on specific types of headlines.
</p>

<p>
Org-mode already had this feature in mind for speed keys. All you have to do is define the list of speed keys and their functions, provide a function that picks the right one, and add it to the org-speed-command-hook. Here is the code that makes this possible. This defines "c" to copy the email to the clipboard, "e" to email the contact, and "m" to copy a "name &lt;email&gt;" string to the clipboard, but only when you are on a headline with an EMAIL property. If there is not a contact specific speed key defined, then a user-defined speed key or a default key will be used if it is defined. In case I do not remember the keys, "?" will show them to me. It is small hack, but if you end up using the contact headlines for much, it might be really helpful as an alternative to M-x some-contacts-command.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #0000FF;">setq</span> org-speed-commands-contacts
      '((<span style="color: #008000;">"c"</span> . (<span style="color: #0000FF;">lambda</span> ()
                 <span style="color: #036A07;">"Copy the email address to the clipboard."</span>
                 (message (kill-new (org-entry-get (point) <span style="color: #008000;">"EMAIL"</span>)))))
        (<span style="color: #008000;">"e"</span> . (<span style="color: #0000FF;">lambda</span> ()
                 <span style="color: #036A07;">"Send an email to the contact."</span>
                 (<span style="color: #0000FF;">let</span> ((email (org-entry-get (point) <span style="color: #008000;">"EMAIL"</span>)))
                   (compose-mail)
                   (message-goto-to)
                   (insert email)
                   (message-goto-subject)))) 
        (<span style="color: #008000;">"m"</span> . (<span style="color: #0000FF;">lambda</span> ()
                 <span style="color: #036A07;">"Copy \"name &lt;email&gt;\""</span>
                 (message (kill-new
                           (format <span style="color: #008000;">"%s &lt;%s&gt;"</span>
                                   (nth 4 (org-heading-components))
                                   (org-entry-get (point) <span style="color: #008000;">"EMAIL"</span>))))))
        (<span style="color: #008000;">"?"</span> . (<span style="color: #0000FF;">lambda</span> ()
                 <span style="color: #036A07;">"Print contacts speed key help."</span>
                 (<span style="color: #0000FF;">with-output-to-temp-buffer</span> <span style="color: #008000;">"*Help*"</span>
                   (princ <span style="color: #008000;">"Contacts Speed commands\n===========================\n"</span>)
                   (mapc #'org-print-speed-command org-speed-commands-contacts)
                   (princ <span style="color: #008000;">"\n"</span>)
                   (princ <span style="color: #008000;">"User-defined Speed commands\n===========================\n"</span>)
                   (mapc #'org-print-speed-command org-speed-commands-user)
                   (princ <span style="color: #008000;">"Built-in Speed commands\n=======================\n"</span>)
                   (mapc #'org-print-speed-command org-speed-commands-default))
                 (<span style="color: #0000FF;">with-current-buffer</span> <span style="color: #008000;">"*Help*"</span>
                   (<span style="color: #0000FF;">setq</span> truncate-lines t))))))

(<span style="color: #0000FF;">defun</span> <span style="color: #006699;">org-speed-contacts</span> (keys)
  (<span style="color: #0000FF;">when</span> (<span style="color: #0000FF;">and</span> (bolp) (looking-at org-outline-regexp)
             (not (null (org-entry-get (point) <span style="color: #008000;">"EMAIL"</span>))))
    (cdr (assoc keys org-speed-commands-contacts))))

(add-hook 'org-speed-command-hook 'org-speed-contacts)
</pre>
</div>
<p>Copyright (C) 2016 by John Kitchin. See the <a href="/copying.html">License</a> for information about copying.<p>
<p><a href="/org/2016/12/22/Context-specific-org-mode-speed-keys.org">org-mode source</a></p>
<p>Org-mode version = 9.0</p>

    </div>
  </div>
</article>



<a href="https://twitter.com/share" class="twitter-share-button" data-via="johnkitchin">Tweet</a> <script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');</script>

  <div class="after_post"><a href="http://jkitchin.github.io/blog/2016/12/22/Context-specific-org-mode-speed-keys#disqus_thread">Read and Post Comments</a></div>
  <hr class="interblog" />
  





<article>
  <div class="blog_post">
    <header>
      <div id="Persistent-highlighting-in-Emacs"></div>
      <h2 class="blog_post_title"><a href="/blog/2016/11/10/Persistent-highlighting-in-Emacs/" rel="bookmark" title="Permanent Link to Persistent highlighting in Emacs">Persistent highlighting in Emacs</a></h2>
      <p><small><span class="blog_post_date">Posted November 10, 2016 at 09:16 AM</span> | categories:
        <span class="blog_post_categories"><a href='/blog/category/emacs/'>emacs</a>, <a href='/blog/category/orgmode/'>orgmode</a></span> | tags: 
        | <a href="http://jkitchin.github.io/blog/2016/11/10/Persistent-highlighting-in-Emacs#disqus_thread">View Comments</a>
      </small></p>
    </header>
    <div class="post_prose">
      



<p>
In this <a href="http://kitchingroup.cheme.cmu.edu/blog/2016/11/08/New-color-link-in-org-9-0-using-font-lock-to-color-the-text/">recent post</a> I showed a way to use org-mode links to color text. The main advantage of that approach is it is explicit markup in the file, so it is persistent and exportable to html. The downside of that approach is you cannot use it in code, since the markup will break the code.
</p>

<p>
An alternative approach is to use overlays to color the text. This allows you to color the text, add annotations as tooltips and to provide a variety of highlighting colors. Overlays are not explicit markup in the file, so it is necessary to think of a way to save them so they can be restored later. We do this by using hook functions to store the overlays in a file-local variable on saving, and a file-local variable to restore the overlays when the file is opened. I bind the primary function `ov-highlighter/body' to a key, in my case hyper-h, which launches a hydra to access the commands.
</p>

<p>
You can find the code here: <a href="https://github.com/jkitchin/scimax/blob/org-9/ov-highlighter.el">https://github.com/jkitchin/scimax/blob/org-9/ov-highlighter.el</a>. Probably around mid-December it will get merged into the master branch.
</p>

<p>
Here is what this looks like in my buffer:
</p>


<p>
<img src="/media/date-10-11-2016-time-09-05-44.png"> 
</p>

<p>
You may want to see the video:
</p>
<iframe width="560" height="315" src="https://www.youtube.com/embed/syeRq_LBFns" frameborder="0" allowfullscreen></iframe>

<ol class="org-ol">
<li>blue green pink yellow custom</li>
<li>Put a comment here.</li>
<li>Markup a tpyo.</li>
<li>Get a list of the highlights in the buffer.</li>
</ol>

<p>
These highlights are pretty awesome. They work in code blocks, and comments. They also work in non-org files (only in Emacs of course).
</p>

<div class="org-src-container">
<pre class="src src-python"><span style="color: #BA36A5;">a</span> = 5
<span style="color: #BA36A5;">b</span> = 6

<span style="color: #0000FF;">print</span>(a+b)<span style="color: #8D8D84;">#</span><span style="color: #8D8D84; font-style: italic;">print the sum of a and b</span>
</pre>
</div>

<p>
11
</p>

<p>
Overall, this is pretty handy. You can highlight your own notes, provide feedback to others, etc. without changing the actual text in the document (well, except for the local variables at the end of the buffer, but these are usually in a "comment" that does not affect the document).
</p>


<p>
Here are few limitations though:
</p>
<ol class="org-ol">
<li>You can only edit/change the file in Emacs, and the hook functions have to enabled, or the overlay data will get corrupted. That means a merge conflict can ruin the overlays.</li>
<li>Anyone you share the file with needs to have the ov-highlighter library loaded too. Otherwise they will not see the highlights, and any edits will make the overlay data incorrect.</li>
<li>The highlights do not export from org-mode (although they do work with `htmlize-buffer'!).</li>
</ol>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #0000FF;">let*</span> ((html-buffer (htmlize-buffer))
       (html (<span style="color: #0000FF;">with-current-buffer</span> html-buffer
               (buffer-string))))
  (<span style="color: #0000FF;">with-temp-file</span> <span style="color: #008000;">"test.html"</span>
    (insert html))
  (kill-buffer html-buffer))

(browse-url <span style="color: #008000;">"test.html"</span>)
</pre>
</div>

<pre class="example">
#&lt;process open test.html&gt;
</pre>
<p>Copyright (C) 2016 by John Kitchin. See the <a href="/copying.html">License</a> for information about copying.<p>
<p><a href="/org/2016/11/10/Persistent-highlighting-in-Emacs.org">org-mode source</a></p>
<p>Org-mode version = 9.0</p>

    </div>
  </div>
</article>



<a href="https://twitter.com/share" class="twitter-share-button" data-via="johnkitchin">Tweet</a> <script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');</script>

  <div class="after_post"><a href="http://jkitchin.github.io/blog/2016/11/10/Persistent-highlighting-in-Emacs#disqus_thread">Read and Post Comments</a></div>
  <hr class="interblog" />
  





<article>
  <div class="blog_post">
    <header>
      <div id="New-and-improved-asynchronous-org-babel-python-blocks"></div>
      <h2 class="blog_post_title"><a href="/blog/2016/11/09/New-and-improved-asynchronous-org-babel-python-blocks/" rel="bookmark" title="Permanent Link to New and improved asynchronous org-babel python blocks">New and improved asynchronous org-babel python blocks</a></h2>
      <p><small><span class="blog_post_date">Posted November 09, 2016 at 11:00 AM</span> | categories:
        <span class="blog_post_categories"><a href='/blog/category/emacs/'>emacs</a>, <a href='/blog/category/python/'>python</a>, <a href='/blog/category/orgmode/'>orgmode</a></span> | tags: 
        | <a href="http://jkitchin.github.io/blog/2016/11/09/New-and-improved-asynchronous-org-babel-python-blocks#disqus_thread">View Comments</a>
      </small></p>
    </header>
    <div class="post_prose">
      



<div id="table-of-contents">
<h2>Table of Contents</h2>
<div id="text-table-of-contents">
<ul>
<li><a href="#orgb1ee49d">1. autopep8</a></li>
<li><a href="#orgcca807a">2. pylint</a></li>
</ul>
</div>
</div>
<p>
About a year ago I posted some code to run org-babel python blocks <a href="http://kitchingroup.cheme.cmu.edu/blog/2015/11/20/Asynchronously-running-python-blocks-in-org-mode/">asynchronously</a>. This year, my students asked for some enhancements related to debugging. Basically, they were frustrated by a few things when they got errors. First, they found it difficult to find the line number in the Traceback in the src block because there are no line numbers in the block, and it is annoying to do a special edit just for line numbers.  
</p>

<p>
I thought about this, and figured out how to significantly improve the situation. The async python code in scimax now has the following features:
</p>

<ol class="org-ol">
<li>When you get a Traceback, it goes in the results, and each file listed in it is hyperlinked to the source file and line so it is easy to get to them.</li>
<li>The cursor jumps to the last line in the code block that is listed in the Traceback, and a beacon shines to show you the line</li>
<li>You can turn on temporary line numbers in the code block to see where the lines are in the block, and these disappear when you start typing. This is done in the variable `org-babel-async-python-show-line-numbers'.</li>
<li>You can control whether a buffer of the results shows or not via the variable `org-babel-async-python-show-results'.</li>
<li>When you run the block, you get a clickable link in the RESULTS section to kill the process.</li>
<li>You may also find the `autopep8' and `pylint' functions helpful.</li>
</ol>

<p>
The code for this is currently found here:
<a href="https://github.com/jkitchin/scimax/blob/org-9/scimax-org-babel-python.el">https://github.com/jkitchin/scimax/blob/org-9/scimax-org-babel-python.el</a>
</p>

<p>
Eventually, I will merge this into master, after I am sure about all the changes needed for org 9.0. That is not likely to happen until the semester ends, so I do not mess up my students who use scimax in class. So, sometime mid-December it will make into master.
</p>

<p>
To make async the default way to run a python block use this code, so that you can use C-c C-c to run them:
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #0000FF;">require</span> '<span style="color: #D0372D;">scimax-org-babel-python</span>)
(add-to-list 'org-ctrl-c-ctrl-c-hook 'org-babel-async-execute:python)
</pre>
</div>

<p>
As with the past few posts, this video will make it much more clear what the post is about: 
</p>

<iframe width="560" height="315" src="https://www.youtube.com/embed/m4vCXM7_p_o" frameborder="0" allowfullscreen></iframe>


<p>
Here is a prototypical example that shows how it works. While it runs you can view the progress if you click on the link to show the results.
</p>

<div class="org-src-container">
<pre class="src src-python"><span style="color: #0000FF;">import</span> time

<span style="color: #0000FF;">for</span> i <span style="color: #0000FF;">in</span> <span style="color: #006FE0;">range</span>(5):
<span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #0000FF;">print</span>(i)
<span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   time.sleep(2)
</pre>
</div>

<p>
0
1
2
3
4
Traceback (most recent call last):
  File "Org SRC", line 5, in &lt;module&gt;
    time.sleep(2)
KeyboardInterrupt
</p>




<p>
This block has a pretty obvious issue when we run it. The cursor jumps right to the problem!
</p>

<div class="org-src-container">
<pre class="src src-python"><span style="color: #0000FF;">print</span>(<span style="color: #008000;">'This line is ok'</span>)
<span style="color: #8D8D84;"># </span><span style="color: #8D8D84; font-style: italic;">5 / 0</span>
<span style="color: #0000FF;">print</span>(<span style="color: #008000;">'We will not see this'</span>)
</pre>
</div>

<p>
This line is ok
We will not see this
</p>



<p>
This block shows we can access any of the links in the Traceback. Here we have an error in calling a function that is raised in an external file.
</p>

<div class="org-src-container">
<pre class="src src-python"><span style="color: #0000FF;">import</span> numpy <span style="color: #0000FF;">as</span> np
<span style="color: #0000FF;">from</span> scipy.integrate <span style="color: #0000FF;">import</span> odeint

<span style="color: #BA36A5;">Vspan</span> = np.linspace(0, 2) <span style="color: #8D8D84;"># </span><span style="color: #8D8D84; font-style: italic;">L</span>

<span style="color: #8D8D84;"># </span><span style="color: #8D8D84; font-style: italic;">dF/dV = F</span>
<span style="color: #0000FF;">def</span> <span style="color: #006699;">dFdV</span>(F, V, v0):
<span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #0000FF;">return</span> F


<span style="color: #0000FF;">print</span>(odeint(dFdV, 1.0, Vspan))
</pre>
</div>

<p>
Traceback (most recent call last):
  File "Org SRC", line 11, in &lt;module&gt;
    print(odeint(dFdV, 1.0, Vspan))
  File "/Users/jkitchin/anaconda3/lib/python3.5/site-packages/scipy/integrate/odepack.py", line 215, in odeint
    ixpr, mxstep, mxhnil, mxordn, mxords)
TypeError: dFdV() missing 1 required positional argument: 'v0'
</p>


<p>
Here we show how nice it is to be able to kill a process. This block will not end on its own.
</p>

<div class="org-src-container">
<pre class="src src-python"><span style="color: #0000FF;">while</span> <span style="color: #D0372D;">True</span>:
<span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #0000FF;">pass</span>
</pre>
</div>

<p>
Traceback (most recent call last):
  File "Org SRC", line 2, in &lt;module&gt;
    pass
KeyboardInterrupt
</p>

<div id="outline-container-orgb1ee49d" class="outline-2">
<h2 id="orgb1ee49d"><span class="section-number-2">1</span> autopep8</h2>
<div class="outline-text-2" id="text-1">
<p>
<a href="https://pypi.python.org/pypi/autopep8">autopep8</a> is a tool for reformatting Python code. We wrapped this into an Emacs command so you can quickly reformat a Python code block. 
</p>

<div class="org-src-container">
<pre class="src src-python"><span style="color: #BA36A5;">a</span> = 4
<span style="color: #BA36A5;">b</span> = 5
<span style="color: #BA36A5;">c</span> = a * b  <span style="color: #8D8D84;"># </span><span style="color: #8D8D84; font-style: italic;">comment</span>
<span style="color: #8D8D84;"># </span><span style="color: #8D8D84; font-style: italic;">another comment</span>


<span style="color: #0000FF;">def</span> <span style="color: #006699;">f</span>(x):
<span style="color: #9B9B9B; background-color: #EDEDED;"> </span>   <span style="color: #0000FF;">return</span> x
<span style="color: #0000FF;">print</span>(f(5))
</pre>
</div>
</div>
</div>

<div id="outline-container-orgcca807a" class="outline-2">
<h2 id="orgcca807a"><span class="section-number-2">2</span> pylint</h2>
<div class="outline-text-2" id="text-2">
<p>
<a href="https://www.pylint.org">pylint</a> is a great tool for checking your Python code for errors, style and conventions. We also wrapped this into an Emacs command so you can run it on a Python src block. The report that is generated had clickable links to help you get right to the lines in your code block with problems.
</p>

<div class="org-src-container">
<pre class="src src-python"><span style="color: #0000FF;">import</span> numpy <span style="color: #0000FF;">as</span> np

<span style="color: #BA36A5;">a</span> = np.array(5, 5)

<span style="color: #0000FF;">def</span> <span style="color: #006699;">f</span>(x): <span style="color: #0000FF;">return</span> x

<span style="color: #0000FF;">print</span>(f(6))
</pre>
</div>
</div>
</div>
<p>Copyright (C) 2016 by John Kitchin. See the <a href="/copying.html">License</a> for information about copying.<p>
<p><a href="/org/2016/11/09/New-and-improved-asynchronous-org-babel-python-blocks.org">org-mode source</a></p>
<p>Org-mode version = 9.0</p>

    </div>
  </div>
</article>



<a href="https://twitter.com/share" class="twitter-share-button" data-via="johnkitchin">Tweet</a> <script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');</script>

  <div class="after_post"><a href="http://jkitchin.github.io/blog/2016/11/09/New-and-improved-asynchronous-org-babel-python-blocks#disqus_thread">Read and Post Comments</a></div>
  <hr class="interblog" />
 <a href="../2">Next Page »</a>

          </div>
          <div id="sidebar" class="grid_4">
            <aside>
<section>
<script>
  (function() {
    var cx = '002533177287215655227:l7uvu35ssbc';
    var gcse = document.createElement('script');
    gcse.type = 'text/javascript';
    gcse.async = true;
    gcse.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') +
        '//www.google.com/cse/cse.js?cx=' + cx;
    var s = document.getElementsByTagName('script')[0];
    s.parentNode.insertBefore(gcse, s);
  })();
</script>
<gcse:search></gcse:search>
</section>

<section>
    <h1 class="post_header_gradient theme_font">Twitter</h1>
    <a class="twitter-timeline" href="https://twitter.com/johnkitchin" data-widget-id="545217643582881792">Tweets by @johnkitchin</a> <script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+"://platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);}}(document,"script","twitter-wjs");</script>
</section>


  <section>
    <h1 class="post_header_gradient theme_font">Links</h1>
    <ul>
      <li><a href="https://www.continuum.io">Anaconda Python</a></li>
      <li><a href="/pycse">Pycse</a></li>
      <li><a href="/dft-book">DFT-book</a></li>
    </ul>
  </section>

  <section>
    <h1 class="post_header_gradient theme_font">Latest Posts</h1>
    <ul>
      <li><a href="/blog/2017/01/01/kitchingroup-cheme-cmu-edu/">kitchingroup.cheme.cmu.edu</a></li>
      <li><a href="/blog/2017/01/01/2016-in-a-a-nutshell-for-the-Kitchin-Research-group/">2016 in a a nutshell for the Kitchin Research group</a></li>
      <li><a href="/blog/2016/12/22/Context-specific-org-mode-speed-keys/">Context-specific org-mode speed keys</a></li>
      <li><a href="/blog/2016/11/10/Persistent-highlighting-in-Emacs/">Persistent highlighting in Emacs</a></li>
      <li><a href="/blog/2016/11/09/New-and-improved-asynchronous-org-babel-python-blocks/">New and improved asynchronous org-babel python blocks</a></li>
    </ul>
  </section>

<section>
<h1 class="post_header_gradient theme_font">Latest GitHub Repos</h1>
  <a href="https://github.com/jkitchin">@jkitchin</a> on GitHub.
  <ul id="my-github-projects">
        <li class="loading">Status updating&#8230;</li>
  </ul>

</section>
</aside>

          </div>
          <div class="clear"></div>
        </div>
      </div>
      
<footer>
  <div id="footer" class="grid_12">
    <div class="grid_8">
      <p>
        <a href="/blog/feed/index.xml">RSS</a>
        <a href="http://kitchinresearchgroup.disqus.com/latest.rss">Comments RSS Feed</a>.
      </p>
    </div>
    <div class="grid_4" id="credits">
      <p>
        Copyright 2017
        John Kitchin
      </p>
      <p>
        Powered by <a href="http://www.blogofile.com">Blogofile</a>
      </p>
    </div>
  </div>
</footer>

    </div>
      <script src="//ajax.googleapis.com/ajax/libs/jquery/1.5.1/jquery.min.js"></script>
  <script>!window.jQuery && document.write(unescape('%3Cscript src="/js/libs/jquery-1.5.1.min.js"%3E%3C/script%3E'))</script>
  <script src="/js/plugins.js"></script>
  <script src="/js/script.js"></script>
  <script src="/js/jquery.tweet.js"></script>  
  <script src="/js/site.js"></script>
  <!--[if lt IE 7 ]>
  <script src="js/libs/dd_belatedpng.js"></script>
  <script> DD_belatedPNG.fix('img, .png_bg');</script>
  <![endif]-->
  <script>
      var _gaq=[['_setAccount','UA-35731398-1'],['_trackPageview']];
      (function(d,t){var g=d.createElement(t),s=d.getElementsByTagName(t)[0];g.async=1;
      g.src=('https:'==location.protocol?'//ssl':'//www')+'.google-analytics.com/ga.js';
      s.parentNode.insertBefore(g,s)}(document,'script'));
  </script>
  <script>
  (function() {
      var links = document.getElementsByTagName('a');
      var query = '?';
      for(var i = 0; i < links.length; i++) {
          if(links[i].href.indexOf('#disqus_thread') >= 0) {
              query += 'url' + i + '=' + encodeURIComponent(links[i].href) + '&';
          }
      }
      document.write('<script charset="utf-8" type="text/javascript" src="http://disqus.com/forums/kitchinresearchgroup/get_num_replies.js' + query + '"></' + 'script>');
  })();
  </script>

  </body>
</html>






<script src="http://ajax.microsoft.com/ajax/jquery/jquery-1.4.2.min.js" type="text/javascript"></script>
<script src="/js/git.js" type="text/javascript"></script>
<script type="text/javascript">
    $(function() {
     $("#my-github-projects").loadRepositories("jkitchin");
    });
</script>



