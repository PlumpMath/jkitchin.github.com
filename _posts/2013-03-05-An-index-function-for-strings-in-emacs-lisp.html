---
title: An index function for strings in emacs-lisp
date: 2013/03/05 19:28:30
updated: 2013/03/05 19:28:31
categories: emacs-lisp
tags: 
---



<p>
I could not find an index function for strings in emacs-lisp. The <code>position</code> function seems to work for numbers, but not strings. Here is a version that works on strings.
</p>
<div class="org-src-container">

<pre class="src src-emacs-lisp">(<span style="color: #8b0000;">defun</span> <span style="color: #8b2323;">index</span> (item list)
  <span style="color: #228b22;">"return index of item in list or nil"</span>
  (<span style="color: #8b0000;">let</span> ((counter 0)
        (found nil))
    (<span style="color: #8b0000;">dolist</span> (listelement list counter)
      (<span style="color: #8b0000;">if</span> (string= item listelement)
        (<span style="color: #8b0000;">progn</span> 
          (setq found t)
          (<span style="color: #8b0000;">return</span> counter)) <span style="color: #ff0000; font-weight: bold;">; </span><span style="color: #ff0000; font-weight: bold;">exit the loop</span>
        <span style="color: #ff0000; font-weight: bold;">;; </span><span style="color: #ff0000; font-weight: bold;">else increment counter</span>
        (incf counter)))
    <span style="color: #ff0000; font-weight: bold;">;; </span><span style="color: #ff0000; font-weight: bold;">if we found it return counter otherwise return nil</span>
    (<span style="color: #8b0000;">if</span> found counter nil)))
</pre>
</div>

<pre class="example">
index
</pre>

<p>
Here are some example uses:
</p>

<div class="org-src-container">

<pre class="src src-emacs-lisp">(index <span style="color: #228b22;">"test"</span> '(<span style="color: #228b22;">"a"</span> <span style="color: #228b22;">"test"</span> <span style="color: #228b22;">"y"</span>))
</pre>
</div>

<pre class="example">
1
</pre>

<div class="org-src-container">

<pre class="src src-emacs-lisp">(index <span style="color: #228b22;">"z"</span> '(<span style="color: #228b22;">"a"</span> <span style="color: #228b22;">"b"</span> <span style="color: #228b22;">"z"</span>))
</pre>
</div>

<pre class="example">
2
</pre>

<div class="org-src-container">

<pre class="src src-emacs-lisp">(index <span style="color: #228b22;">"testy"</span> '(<span style="color: #228b22;">"a"</span> <span style="color: #228b22;">"test"</span> <span style="color: #228b22;">"y"</span>))
</pre>
</div>

<pre class="example">
nil
</pre>

<p>
This raises an error because we use string=.
</p>

<div class="org-src-container">

<pre class="src src-emacs-lisp">(index 1 '(<span style="color: #228b22;">"a"</span> <span style="color: #228b22;">"test"</span> <span style="color: #228b22;">"y"</span> 1))
</pre>
</div>
<p>Copyright (C) 2013 by John Kitchin. See the <a href="/copying.html">License</a> for information about copying.<p><p><a href="/org/2013/03/05/An-index-function-for-strings-in-emacs-lisp.org">org-mode source</a><p>