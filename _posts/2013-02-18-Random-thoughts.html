---
title: Random thoughts
date: 2013/02/18 09:00:00
updated: 2013/02/27 14:36:45
categories: [math, statistics]
---


<p>
<a href="http://matlab.cheme.cmu.edu/2011/09/04/random-thoughts/" >Matlab post</a>
</p>

<p>
Random numbers are used in a variety of simulation methods, most notably Monte Carlo simulations. In another later example, we will see how we can use random numbers for error propogation analysis. First, we discuss two types of pseudorandom numbers we can use in python: uniformly distributed and normally distributed numbers.
</p>

<p>
Say you are the gambling type, and bet your friend $5 the next random number will be greater than 0.49. Let us ask Python to roll the random number generator for us.
</p>

<div class="org-src-container">

<pre class="src src-python"><span style="color: #8b0000;">import</span> numpy <span style="color: #8b0000;">as</span> np

n = np.random.uniform()
<span style="color: #8b0000;">print</span> <span style="color: #228b22;">'n = {0}'</span>.format(n)

<span style="color: #8b0000;">if</span> n &gt; 0.49:
    <span style="color: #8b0000;">print</span> <span style="color: #228b22;">'You win!'</span>
<span style="color: #8b0000;">else:</span>
    <span style="color: #8b0000;">print</span> <span style="color: #228b22;">'you lose.'</span>
</pre>
</div>

<pre class="example">
n = 0.381896986693
you lose.
</pre>

<p>
The odds of you winning the last bet are slightly stacked in your favor. There is only a 49% chance your friend wins, but a 51% chance that you win. Lets play the game a lot of times times and see how many times you win, and your friend wins. First, lets generate a bunch of numbers and look at the distribution with a histogram.
</p>

<div class="org-src-container">

<pre class="src src-python"><span style="color: #8b0000;">import</span> numpy <span style="color: #8b0000;">as</span> np

N = 10000
games = np.random.uniform(size=(1,N))

wins = np.sum(games &gt; 0.49)
losses = N - wins

<span style="color: #8b0000;">print</span> <span style="color: #228b22;">'You won {0} times ({1:%})'</span>.format(wins, <span style="color: #8b0000;">float</span>(wins) / N)

<span style="color: #8b0000;">import</span> matplotlib.pyplot <span style="color: #8b0000;">as</span> plt
count, bins, ignored = plt.hist(games)
plt.savefig(<span style="color: #228b22;">'images/random-thoughts-1.png'</span>)
</pre>
</div>

<pre class="example">
You won 5090 times (50.900000%)
</pre>

<p><img src="/img/./images/random-thoughts-1.png"><p>

<p>
As you can see you win slightly more than you lost.
</p>

<p>
It is possible to get random integers. Here are a few examples of getting a random integer between 1 and 100. You might do this to get random indices of a list, for example.
</p>

<div class="org-src-container">

<pre class="src src-python"><span style="color: #8b0000;">import</span> numpy <span style="color: #8b0000;">as</span> np

<span style="color: #8b0000;">print</span> np.random.random_integers(1, 100)
<span style="color: #8b0000;">print</span> np.random.random_integers(1, 100, 3)
<span style="color: #8b0000;">print</span> np.random.random_integers(1, 100, (2,2))
</pre>
</div>

<pre class="example">
96
[ 95  49 100]
[[69 54]
 [41 93]]
</pre>

<p>
The normal distribution is defined by \(f(x)=\frac{1}{\sqrt{2\pi \sigma^2}} \exp (-\frac{(x-\mu)^2}{2\sigma^2})\) where \(\mu\) is the mean value, and \(\sigma\) is the standard deviation. In the standard distribution, \(\mu=0\) and \(\sigma=1\).
</p>

<div class="org-src-container">

<pre class="src src-python"><span style="color: #8b0000;">import</span> numpy <span style="color: #8b0000;">as</span> np

mu = 1
sigma = 0.5
<span style="color: #8b0000;">print</span> np.random.normal(mu, sigma)
<span style="color: #8b0000;">print</span> np.random.normal(mu, sigma, 2)
</pre>
</div>

<pre class="example">
1.04225842065
[ 0.58105204  0.64853157]
</pre>

<p>
Let us compare the sampled distribution to the analytical distribution. We generate a large set of samples, and calculate the probability of getting each value using the matplotlib.pyplot.hist command.
</p>

<div class="org-src-container">

<pre class="src src-python"><span style="color: #8b0000;">import</span> numpy <span style="color: #8b0000;">as</span> np
<span style="color: #8b0000;">import</span> matplotlib.pyplot <span style="color: #8b0000;">as</span> plt

mu = 0; sigma = 1

N = 5000
samples = np.random.normal(mu, sigma, N)

counts, bins, ignored = plt.hist(samples, 50, normed=<span style="color: #8b0000;">True</span>)

plt.plot(bins, 1.0/np.sqrt(2 * np.pi * sigma**2)*np.exp(-((bins - mu)**2)/(2*sigma**2)))
plt.savefig(<span style="color: #228b22;">'images/random-thoughts-2.png'</span>)
</pre>
</div>

<p><img src="/img/./images/random-thoughts-2.png"><p>

<p>
What fraction of points lie between plus and minus one standard deviation of the mean?
</p>

<p>
samples &gt;= mu-sigma will return a vector of ones where the inequality is true, and zeros where it is not. (samples &gt;= mu-sigma) &amp; (samples &lt;= mu+sigma) will return a vector of ones where there is a one in both vectors, and a zero where there is not. In other words, a vector where both inequalities are true. Finally, we can sum the vector to get the number of elements where the two inequalities are true, and finally normalize by the total number of samples to get the fraction of samples that are greater than -sigma and less than sigma.
</p>

<div class="org-src-container">

<pre class="src src-python"><span style="color: #8b0000;">import</span> numpy <span style="color: #8b0000;">as</span> np
<span style="color: #8b0000;">import</span> matplotlib.pyplot <span style="color: #8b0000;">as</span> plt

mu = 0; sigma = 1

N = 5000
samples = np.random.normal(mu, sigma, N)

a = np.sum((samples &gt;= (mu - sigma)) &amp; (samples &lt;= (mu + sigma))) / <span style="color: #8b0000;">float</span>(N) 
b = np.sum((samples &gt;= (mu - 2*sigma)) &amp; (samples &lt;= (mu + 2*sigma))) / <span style="color: #8b0000;">float</span>(N) 
<span style="color: #8b0000;">print</span> <span style="color: #228b22;">'{0:%} of samples are within +- standard deviations of the mean'</span>.format(a)
<span style="color: #8b0000;">print</span> <span style="color: #228b22;">'{0:%} of samples are within +- 2standard deviations of the mean'</span>.format(b)
</pre>
</div>

<pre class="example">
67.500000% of samples are within +- standard deviations of the mean
95.580000% of samples are within +- 2standard deviations of the mean
</pre>

<div id="outline-container-1" class="outline-2">
<h2 id="sec-1"><span class="section-number-2">1</span> Summary</h2>
<div class="outline-text-2" id="text-1">
<p>
We only considered the numpy.random functions here, and not all of them. There are many distributions of random numbers to choose from. There are also random numbers in the python random module. Remember these are only <a href="http://en.wikipedia.org/wiki/Pseudorandom_number_generator" >pseudorandom</a> numbers, but they are still useful for many applications.
</p>
</div>
</div>
<p>Copyright (C) 2013 by John Kitchin. See the <a href="/copying.html">License</a> for information about copying.<p><p><a href="/org/2013/02/18/Random-thoughts.org">org-mode source</a><p>