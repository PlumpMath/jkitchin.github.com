---
title: Using data in a table in another org-file
date: 2013/12/22 13:42:20
updated: 2014/01/16 07:30:30
categories: org-mode
tags: 
---


<p>
I have found using tables in an org-file as data sources to code blocks very convenient for documenting work. A typical work flow might go like this:
</p>
<ol class="org-ol">
<li>Use a code block to generate some data in an org-table.
</li>
<li>Use another code block to analyze the data.
</li>
</ol>

<p>
For example, here is a code block that prints data in a table <sup><a id="fnr.1" name="fnr.1" class="footref" href="#fn.1">1</a></sup>:
</p>
<div class="org-src-container">

<pre class="src src-python"><span style="color: #8b0000;">import</span> numpy <span style="color: #8b0000;">as</span> np

<span style="color: #8b0000;">print</span> <span style="color: #228b22;">'#+tblname: cos-data'</span>
<span style="color: #8b0000;">print</span> <span style="color: #228b22;">'| x | cos(x)|'</span>
<span style="color: #8b0000;">print</span> <span style="color: #228b22;">'|-'</span>

<span style="color: #8b0000;">for</span> x <span style="color: #8b0000;">in</span> np.linspace(0, 2*np.pi, 10):
    <span style="color: #8b0000;">print</span> <span style="color: #228b22;">'|{0}|{1}|'</span>.<span style="color: #cd0000;">format</span>(x, np.cos(x))
</pre>
</div>

<table id="cos-data" border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="right" />

<col  class="right" />
</colgroup>
<thead>
<tr>
<th scope="col" class="right">x</th>
<th scope="col" class="right">cos(x)</th>
</tr>
</thead>
<tbody>
<tr>
<td class="right">0.0</td>
<td class="right">1.0</td>
</tr>

<tr>
<td class="right">0.698131700798</td>
<td class="right">0.766044443119</td>
</tr>

<tr>
<td class="right">1.3962634016</td>
<td class="right">0.173648177667</td>
</tr>

<tr>
<td class="right">2.09439510239</td>
<td class="right">-0.5</td>
</tr>

<tr>
<td class="right">2.79252680319</td>
<td class="right">-0.939692620786</td>
</tr>

<tr>
<td class="right">3.49065850399</td>
<td class="right">-0.939692620786</td>
</tr>

<tr>
<td class="right">4.18879020479</td>
<td class="right">-0.5</td>
</tr>

<tr>
<td class="right">4.88692190558</td>
<td class="right">0.173648177667</td>
</tr>

<tr>
<td class="right">5.58505360638</td>
<td class="right">0.766044443119</td>
</tr>

<tr>
<td class="right">6.28318530718</td>
<td class="right">1.0</td>
</tr>
</tbody>
</table>

<p>
Now, we use that table in a code block to plot the data. We do this by using some header arguments to the code block:
</p>

<pre class="example">
#+BEGIN_SRC python :var data=cos-data
</pre>

<p>
Then we can use the <code>data</code> variable inside the code block like this:
</p>

<div class="org-src-container">

<pre class="src src-python"><span style="color: #8b0000;">import</span> numpy <span style="color: #8b0000;">as</span> np
<span style="color: #8b0000;">import</span> matplotlib.pyplot <span style="color: #8b0000;">as</span> plt

<span style="color: #8b008b;">data</span> = np.array(data) <span style="color: #ff0000; font-weight: bold;"># </span><span style="color: #ff0000; font-weight: bold;">data is a list coming in</span>
<span style="color: #8b008b;">x</span> = data[:, 0]
<span style="color: #8b008b;">y</span> = data[:, 1]
plt.plot(x, y)
plt.xlabel(<span style="color: #228b22;">'x'</span>)
plt.ylabel(<span style="color: #228b22;">'cos(x)'</span>)
plt.savefig(<span style="color: #228b22;">'images/cos-plot.png'</span>)
</pre>
</div>


<div class="figure">
<p><img src="/media/2013-12-22-Using-data-in-a-table-in-another-org-file/cos-plot.png"> 
</p>
</div>

<p>
That is pretty awesome, but what if we have data in a table from another org-file? It turns out we can use it too. I have data for the sin(x) stored in a table called <code>sin-data</code> in <a href="/media/2013-12-22-Using-data-in-a-table-in-another-org-file/sin.org">sin.org</a> , which I now want to use. We can access that table like this in a header arg:
</p>

<pre class="example">
#+BEGIN_SRC python :var data=sin.org:sin-data
</pre>

<p>
And now use the data variable just like before!
</p>

<div class="org-src-container">

<pre class="src src-python"><span style="color: #8b0000;">import</span> numpy <span style="color: #8b0000;">as</span> np
<span style="color: #8b0000;">import</span> matplotlib.pyplot <span style="color: #8b0000;">as</span> plt

<span style="color: #8b008b;">data</span> = np.array(data) <span style="color: #ff0000; font-weight: bold;"># </span><span style="color: #ff0000; font-weight: bold;">data is a list coming in</span>
<span style="color: #8b008b;">x</span> = data[:, 0]
<span style="color: #8b008b;">y</span> = data[:, 1]
plt.plot(x, y)
plt.xlabel(<span style="color: #228b22;">'x'</span>)
plt.ylabel(<span style="color: #228b22;">'sin(x)'</span>)
plt.savefig(<span style="color: #228b22;">'images/sin-plot.png'</span>)
</pre>
</div>


<div class="figure">
<p><img src="/media/2013-12-22-Using-data-in-a-table-in-another-org-file/sin-plot.png"> 
</p>
</div>

<p>
This is a powerful capability, as it allows you to pull data from other files into your current analysis. For example, the supporting information files from some of our recent publications have org-files embedded in them with data stored in org-tables. You could use that data in your own analysis without having to type it in yourself. The only thing you need to do is make sure each table in a document is uniquely named.
</p>

<p>
Special thanks to Eric Schulte for pointing out the syntax for using external tables!
</p>
<div id="footnotes">
<h2 class="footnotes">Footnotes: </h2>
<div id="text-footnotes">

<div class="footdef"><sup><a id="fn.1" name="fn.1" class="footnum" href="#fnr.1">1</a></sup> <p>
You will have to read the raw org-source to see how the code-block arguments look.
</p></div>


</div>
</div><p>Copyright (C) 2014 by John Kitchin. See the <a href="/copying.html">License</a> for information about copying.<p><p><a href="/org/2013/12/22/Using-data-in-a-table-in-another-org-file.org">org-mode source</a><p><p>Org-mode version = 8.2.5c</p>