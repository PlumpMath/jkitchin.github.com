---
title: Plotting two datasets with very different scales
date: 2013/09/13 13:55:20
updated: 2013/09/13 14:30:12
categories: plotting
tags: 
---


<div id="table-of-contents">
<h2>Table of Contents</h2>
<div id="text-table-of-contents">
<ul>
<li><a href="#sec-1">1. Make two plots!</a></li>
<li><a href="#sec-2">2. Scaling the results</a></li>
<li><a href="#sec-3">3. Double-y axis plot</a></li>
<li><a href="#sec-4">4. Subplots</a></li>
</ul>
</div>
</div>
<p>
<a href="http://matlab.cheme.cmu.edu/2011/08/25/plotting-two-datasets-with-very-different-scales/">Matlab plot</a>
</p>

<p>
Sometimes you will have two datasets you want to plot together, but the scales will be so different it is hard to seem them both in the same plot. Here we examine a few strategies to plotting this kind of data.
</p>

<div class="org-src-container">

<pre class="src src-python"><span style="color: #8b0000;">import</span> numpy <span style="color: #8b0000;">as</span> np
<span style="color: #8b0000;">import</span> matplotlib.pyplot <span style="color: #8b0000;">as</span> plt

<span style="color: #8b008b;">x</span> = np.linspace(0, 2*np.pi)
<span style="color: #8b008b;">y1</span> = np.sin(x);
<span style="color: #8b008b;">y2</span> = 0.01 * np.cos(x);

plt.plot(x, y1, x, y2)
plt.legend([<span style="color: #228b22;">'y1'</span>, <span style="color: #228b22;">'y2'</span>])
plt.savefig(<span style="color: #228b22;">'images/two-scales-1.png'</span>)
<span style="color: #ff0000; font-weight: bold;"># </span><span style="color: #ff0000; font-weight: bold;">in this plot y2 looks almost flat!</span>
</pre>
</div>

<pre class="example">
&gt;&gt;&gt; &gt;&gt;&gt; &gt;&gt;&gt; &gt;&gt;&gt; &gt;&gt;&gt; &gt;&gt;&gt; [&lt;matplotlib.lines.Line2D object at 0x0000000006089128&gt;, &lt;matplotlib.lines.Line2D object at 0x000000000766B2E8&gt;]
&lt;matplotlib.legend.Legend object at 0x0000000007661668&gt;
</pre>


<div class="figure">
<p><img src="./images/two-scales-1.png" alt="two-scales-1.png" />
</p>
</div>

<div id="outline-container-sec-1" class="outline-2">
<h2 id="sec-1"><span class="section-number-2">1</span> Make two plots!</h2>
<div class="outline-text-2" id="text-1">
<p>
this certainly solves the problem, but you have two full size plots, which can take up a lot of space in a presentation and report. Often your goal in plotting both data sets is to compare them, and it is easiest to compare plots when they are perfectly lined up. Doing that manually can be tedious.
</p>

<div class="org-src-container">

<pre class="src src-python">plt.figure()
plt.plot(x,y1)
plt.legend([<span style="color: #228b22;">'y1'</span>])
plt.savefig(<span style="color: #228b22;">'images/two-scales-2.png'</span>)

plt.figure()
plt.plot(x,y2)
plt.legend([<span style="color: #228b22;">'y2'</span>])
plt.savefig(<span style="color: #228b22;">'images/two-scales-3.png'</span>)
</pre>
</div>

<pre class="example">
&lt;matplotlib.figure.Figure object at 0x0000000007D45438&gt;
[&lt;matplotlib.lines.Line2D object at 0x00000000081C61D0&gt;]
&lt;matplotlib.legend.Legend object at 0x0000000007FA1CF8&gt;
&gt;&gt;&gt; &gt;&gt;&gt; &lt;matplotlib.figure.Figure object at 0x00000000081C63C8&gt;
[&lt;matplotlib.lines.Line2D object at 0x00000000081C8F60&gt;]
&lt;matplotlib.legend.Legend object at 0x00000000081D7278&gt;
</pre>


<div class="figure">
<p><img src="./images/two-scales-2.png" alt="two-scales-2.png" />
</p>
</div>


<div class="figure">
<p><img src="./images/two-scales-3.png" alt="two-scales-3.png" />
</p>
</div>
</div>
</div>
<div id="outline-container-sec-2" class="outline-2">
<h2 id="sec-2"><span class="section-number-2">2</span> Scaling the results</h2>
<div class="outline-text-2" id="text-2">
<p>
Sometimes you can scale one dataset so it has a similar magnitude as the other data set. Here we could multiply y2 by 100, and then it will be similar in size to y1. Of course, you need to indicate that y2 has been scaled in the graph somehow. Here we use the legend.
</p>

<div class="org-src-container">

<pre class="src src-python">plt.figure()
plt.plot(x, y1, x, 100 * y2)
plt.legend([<span style="color: #228b22;">'y1'</span>, <span style="color: #228b22;">'100*y2'</span>])
plt.savefig(<span style="color: #228b22;">'images/two-scales-4.png'</span>)
</pre>
</div>

<pre class="example">
&lt;matplotlib.figure.Figure object at 0x0000000007FA7908&gt;
[&lt;matplotlib.lines.Line2D object at 0x000000000B0285C0&gt;, &lt;matplotlib.lines.Line2D object at 0x000000000B0287B8&gt;]
&lt;matplotlib.legend.Legend object at 0x000000000B028C88&gt;
</pre>


<div class="figure">
<p><img src="./images/two-scales-4.png" alt="two-scales-4.png" />
</p>
</div>
</div>
</div>
<div id="outline-container-sec-3" class="outline-2">
<h2 id="sec-3"><span class="section-number-2">3</span> Double-y axis plot</h2>
<div class="outline-text-2" id="text-3">
<p>

</p>

<p>
Using two separate y-axes can solve your scaling problem. Note that each y-axis is color coded to the data. It can be difficult to read these graphs when printed in black and white
</p>

<div class="org-src-container">

<pre class="src src-python"><span style="color: #8b008b;">fig</span> = plt.figure()
<span style="color: #8b008b;">ax1</span> = fig.add_subplot(111)
ax1.plot(x, y1)
ax1.set_ylabel(<span style="color: #228b22;">'y1'</span>)

<span style="color: #8b008b;">ax2</span> = ax1.twinx()
ax2.plot(x, y2, <span style="color: #228b22;">'r-'</span>)
ax2.set_ylabel(<span style="color: #228b22;">'y2'</span>, color=<span style="color: #228b22;">'r'</span>)
<span style="color: #8b0000;">for</span> tl <span style="color: #8b0000;">in</span> ax2.get_yticklabels():
    tl.set_color(<span style="color: #228b22;">'r'</span>)

plt.savefig(<span style="color: #228b22;">'images/two-scales-5.png'</span>)
</pre>
</div>

<pre class="example">
&gt;&gt;&gt; [&lt;matplotlib.lines.Line2D object at 0x000000000BA34208&gt;]
&lt;matplotlib.text.Text object at 0x000000000BA37C50&gt;
&gt;&gt;&gt; &gt;&gt;&gt; [&lt;matplotlib.lines.Line2D object at 0x000000000BA4DEF0&gt;]
&lt;matplotlib.text.Text object at 0x000000000BA594A8&gt;
</pre>



<div class="figure">
<p><img src="./images/two-scales-5.png" alt="two-scales-5.png" />
</p>
</div>
</div>
</div>
<div id="outline-container-sec-4" class="outline-2">
<h2 id="sec-4"><span class="section-number-2">4</span> Subplots</h2>
<div class="outline-text-2" id="text-4">
<p>

An alternative approach to double y axes is to use subplots. 
</p>

<div class="org-src-container">

<pre class="src src-python">plt.figure()
<span style="color: #8b008b;">f</span>, <span style="color: #8b008b;">axes</span> = plt.subplots(2, 1)
axes[0].plot(x, y1)
axes[0].set_ylabel(<span style="color: #228b22;">'y1'</span>)

axes[1].plot(x, y2)
axes[1].set_ylabel(<span style="color: #228b22;">'y2'</span>)
plt.savefig(<span style="color: #228b22;">'images/two-scales-6.png'</span>)
</pre>
</div>

<pre class="example">
&lt;matplotlib.figure.Figure object at 0x000000000BDC47B8&gt;
&gt;&gt;&gt; [&lt;matplotlib.lines.Line2D object at 0x000000000BDE2F28&gt;]
&lt;matplotlib.text.Text object at 0x000000000BDD74E0&gt;
&gt;&gt;&gt; [&lt;matplotlib.lines.Line2D object at 0x000000000D05E748&gt;]
&lt;matplotlib.text.Text object at 0x000000000BDEC438&gt;
</pre>


<div class="figure">
<p><img src="./images/two-scales-6.png" alt="two-scales-6.png" />
</p>
</div>
</div>
</div>
<p>Copyright (C) 2013 by John Kitchin. See the <a href="/copying.html">License</a> for information about copying.<p><p><a href="/org/2013/09/13/Plotting-two-datasets-with-very-different-scales.org">org-mode source</a><p>