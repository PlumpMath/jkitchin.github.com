---
title: Confidence interval on an average
date: 2013/02/10 09:00:00
updated: 2013/03/06 18:32:38
categories: statistics
tags: 
---


<p>
nil has a statistical package available for getting statistical distributions. This is useful for computing confidence intervals using the student-t tables. Here is an example of computing a 95% confidence interval on an average.
</p>
<div class="org-src-container">

<pre class="src src-python"><span style="color: #8b0000;">import</span> numpy <span style="color: #8b0000;">as</span> np
<span style="color: #8b0000;">from</span> scipy.stats.distributions <span style="color: #8b0000;">import</span>  t

n = 10 <span style="color: #ff0000; font-weight: bold;"># </span><span style="color: #ff0000; font-weight: bold;">number of measurements</span>
dof = n - 1 <span style="color: #ff0000; font-weight: bold;"># </span><span style="color: #ff0000; font-weight: bold;">degrees of freedom</span>
avg_x = 16.1 <span style="color: #ff0000; font-weight: bold;"># </span><span style="color: #ff0000; font-weight: bold;">average measurement</span>
std_x = 0.01 <span style="color: #ff0000; font-weight: bold;"># </span><span style="color: #ff0000; font-weight: bold;">standard deviation of measurements</span>

<span style="color: #ff0000; font-weight: bold;"># </span><span style="color: #ff0000; font-weight: bold;">Find 95% prediction interval for next measurement</span>

alpha = 1.0 - 0.95

pred_interval = t.ppf(1-alpha/2., dof) * std_x * np.sqrt(1.0 + 1.0/n)

s = [<span style="color: #228b22;">'We are 95% confident the next measurement'</span>,
       <span style="color: #228b22;">' will be between {0:1.3f} and {1:1.3f}'</span>]
<span style="color: #8b0000;">print</span> <span style="color: #228b22;">''</span>.join(s).format(avg_x - pred_interval, avg_x + pred_interval)
</pre>
</div>

<pre class="example">
We are 95% confident the next measurement will be between 16.076 and 16.124
</pre>
<p>Copyright (C) 2013 by John Kitchin. See the <a href="/copying.html">License</a> for information about copying.<p><p><a href="/org/2013/02/10/Confidence-interval-on-an-average.org">org-mode source</a><p>